---
title: 'OSI 7계층과 프로토콜(Protocol)'
date: '2023-11-01'
tags: ['네트워크', 'OSI7계층', '프로토콜', 'Protocol', 'Ethernet','CSMA/CD','IP', 'ARC', 'TCP', 'UDP']
category: '네트워크'
draft: false
summary: '네트워크 OSI 7 계층과 프로토콜에 대해 알아봅니다'
---
# OSI 7 Layer

참고 : [네트워크 OSI 7 계층](https://velog.io/@nellholic108/네트워크-OSI-7-계층)

### 등장배경

제조사마다 장비의 프로토콜이 달라서 통신이 안됐기 때문에 ISO에서 통신이 일어나는 과정을 7단계로 세분화하여 표준을 지정함. 이로 인해 

- 데이터의 흐름을 한눈에 파악 가능하게 됨
- 트러블 슈팅할 때 편리해짐
- 이기종 장비 간의 통신이 가능해짐

### 1 : 물리계층

- 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송
- 통신단위 : “비트” 0과 1로 전송
- 수신처에 데이터만을 전달함
- 장비 : 케이블, 리피터, 허브
- 케이블 이름의 의미
    - 10 Base T ( 10Mbps의 속도를 지원하는 케이블)
    1. 속도
    2. 전송방식
    3. 종류/최대거리
    - 10 Base 5 (10M의 속도로 최대 500미터까지 전송 가능한 케이블)

### 2 : 데이터 링크 계층

- 데이터 전송을 담당하는 계층(1계층을 통해 송수신되는 정보의 오류와 흐름을 관리)
- 데이터 링크 계층에서 전송되는 데이터 단위 : 프레임(Frame) =(패킷,세그먼트)
- 장비(Device): 스위치(브리지 - 현재 스위치에 통합되었기 때문에 실사용 X)
- 가장 최적의 경로를 찾기 위해서 맥 테이블을 생성 & 이용
- 직접 연결된 노드 간의 통신 담당
- 참고 : [스위치와 MAC주소 테이블](https://velog.io/@wlsdnjs156/스위치와-MAC주소-테이블)


- LLC :Logical Link Control
- (IT에서 Logical의 의미는 변경 가능하다는 뜻, Physical은 변경 불가하다는 뜻)
- MAC : Media Access Control
- 데이터 링크 계층의 기능
    - Framing → Addressing → Error Control → Flow Control → Access Control
    - **노드 대 노드 전달**: 서로 인접한 노드 사이의 연결을 링크라고 하는데 데이터링크 계층은 하나의 링크 사이에서 데이터 전달을 담당한다.
    - **주소 지정**: 상위 계층에서 내려온 패킷에 헤더와 트레일러를 붙이며 헤더에는 현재 노드의 물리 주소와 다음 노드의 물리 주소를 포함시킨다.
    - **접근제어**: 두 개 이상의 노드들이 동일한 링크에 연결되어 있을 때에 충돌을 방지하기 위한 제어기능이 요구된다.
    - **흐름 제어**: 수신 노드로 전달되는 패킷의 양이 그 노드가 처리할 수 있는 양보다 많이 유입되는 것을 방지해 주기 위한 방법으로서 수신 노드는 송신 노드와의 통신을 통해 흐름 제어를 수행한다.
    - **오류 제어**: 데이터링크 계층은 일반적으로 오류가 발생한 프레임 전체를 재전송하는 방식을 사용하여 손상된 데이터를 복구한다.
    - **동기화**: 송신 노드와 수신 노드 사이에는 클럭이 존재하고 이 클럭에 맞추어 데이터가 전송되는데 데이터가 언제 시작하는 지를 수신 노드가 알 필요가 있다.
    
    수신 노드에서  데이터  시작을  알  수  있도록  송신 노드가  헤더 부분이  시작되기  전에  일정한  비트  패턴을  첨가하는  것을  동기화라고 한다.
    

### 3 : 네트워크 계층

- 상위 계층으로부터 받은 데이터를 패킷 단위로 규격화 하여 전송하고 수신하는 기능을 수행하는 단계
    
    → 스위칭과 라우팅 기능을 통해 패킷 경로를 결정
    
    → 호스트 간의 통신담당(IP)
    
- 장비(Device) :  라우터/ 스위치
- L2 스위치 : MAC Address를 기반으로 하는 장비
- L3 스위치 : IP기반의 패킷을 전송하기 위해 사용
- 목적지 호스트로 데이터 전송
- 네트워크 간의 최적의 경로 설정
- 네트워크 계층 역할
    - fragmentation : 한번에 전송할 수 있는 데이터의 최대 양이 정해져 있으므로 데이터를 조각화함
        - MTU:한번에 보낼 수 있는 패킷의 양
        - MTU가 정해져 있는 이유 : 한 장비가 독점하는 것을 막기 위해(?)
    - Assembly : 패킷전송이 완료되면 패킷을 다시 합침
    - 패킷 전달(packet forwarding) : 종단 간(end-to-end)의 패킷 전달을 수행
    - 라우팅(Routing) : 종단 간 패킷을 전송할 때, 라우팅 프로토콜을 기반으로 가장 효율적인 경로를 선택하여 패킷을 전송
    - 논리적인 주소(Logical Address)로 전달 : IP주소를 사용하여 사용자 데이터를 목적지 장치까지 전달

### 프레임 vs 패킷(데이터 단위 : PDU protocol data unit)

- 프레임
    - 데이터 링크 계층에서 사용하는 용어
    - 프레임 헤더 정보 :MAC( 디바이스 고유 정보)
    - 데이터 전송의 최소단위(only 데이터 링크 계층에서만 사용)
- 패킷
    - 네트워크 계층에서 사용하는 용어
    - 패킷의 헤더 정보 : IP
    - 데이터의 한 덩어리(모든 프로토콜에서 사용 가능)

### 4 : 전송 계층 (Transport Layer)

- 소프트웨어적인 특성을 가지는 상위 3개(응용,표현,세션) 계층과 하드웨어적인 특성을 가지는 하위 3개(물리, 데이터 링크 ,네트워크) 계층 사이에서 중간적인 특성을 가지고 있는 계층
- 애플리케이션 간의 통신 담당 : 포트(논리적인 접속장소)와 연결된다는 뜻
- 목적지 애플리케이션으로 데이터 전송
- 안정적이고 신뢰할 수 있는 데이터 전송 보장 (TCP) + 필수 기능만 제공 (UDP)
- 단위 : 세그먼트
- 역할
    - Message acknowledgement : 종단 간 데이터 통신 보장
    - Message traffic Control : 지연에 따른 왜곡 및 대역폭 부족 문제 해결
    - Session multiplexing :
    - Message segmentation :

### 세그먼트의 의미 구분

- 네트워크 구분단위
    - 세그먼트 : 물리적으로 제한
    - 서브넷 : 논리적으로 세분

### 5 : 세션계층

- 종단 간에 통신 세션의 시작과 종료를 정의
- 세션 : 일정 시간 동안 같은 사용자로부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 일정하게 유지하는 것

### 6 : 표현계층

- 데이터를 어떻게 표현하는지를 정의
    
    →응용계층에서 만들어진 데이터를 다른 모든 컴퓨터가 이해할 수 있는 형태로 변환시키는 역할을 담당
    
    - 인코딩 : 컴퓨터가 알아먹을 수 있도록 만드는 것

### 7 : 응용계층

- 사용자 또는 애플리케이션이 네트워크에 접근 가능하도록 만들어주는 역할

(=사용자를 위한 인터페이스를 제공)

- 사용자에게 보이는 유일한 계층

# 프로토콜(Protocol)

### Layer 2 protocol : Ethernet

- 네트워크 구축하는 방법 중의 하나
    
    → 랜카드부터 모든 장비들을 구성 방식에 맞게 구입해야 하므로 중요
    
- 현재 대부분 이더넷 방식으로 네트워크 구축
- 이더넷이 사용하는 통신 방식 : CSMA/CD(Carrier Sense Multiple Access/Collision Detection)
- CSMA/CD
    - 사용 이유 : 불필요한 전송을 사전에 차단시켜 트래픽을 줄이기 위해서입니다
    - Carrier Sense : 네트워크 상에서 통신이 일어나고 있는지 확인
    - Multiple Accessible(다중 접근)
        
        : 두 개 이상의 pc나 서버가 동시에 네트워크 상에서 데이터를 실어보내는 경우
        
    - Collision(충돌) : 데이터를 동시에 보내려다 부딪치는 경우
    - Collision detection (충돌 감지) 데이터 충돌이 발생하지 않도록 확인하는 것

### Layer 3 protocol : IP,ARP

- IP(Internet protocol)
    - 서로 간의 통신을 위해서 구분되는 유일무이한 주소
    - 네트워크를 통해 패킷을 전달하기 위해 만들어진 프로토콜
    - 신뢰성 없는 패킷 교환 프로토콜
        
        → 패킷이 상대방에게 도착되지 않은 경우 패킷 재전송 x
        
- ARP(Address Resolution Protocol)
    - IP 주소를 MAC주소로 바꾸기 위한 절차

### Layer 4 protocol : TCP, UDP

- TCP(Transmission Contorl Protocol)
    - 신뢰성 있는 프로토콜
        
        :데이터가 목적지에 무사히 도착하는 것을 보증
        
    - 등기
- UDP(User Datagram Protocol)
    - 신뢰성 없는 프로토콜
        
        : 데이터의 도달 여부 확인 X
        
    
    예) IPTV(상대방 TV on/off 확인X)