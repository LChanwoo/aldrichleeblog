---
title: '스위치(Switch)'
date: '2023-11-01'
tags: ['네트워크', '스위치', 'OSI7계층', '데이터링크계층','Switch']
category: '네트워크'
draft: false
summary: '스위치(Switch)에 대해 정리합니다'
---
### 스위치(Switch)

- Layer2 장비
- 장비 안에 MAC 주소 테이블 존재 →이것을 참조하여 필터링
- 스위치에서는 포트 별로 하나의 콜리전 도메인이 형성
    - **Collision 도메인(충돌도메인)** : 이더넷 방식의 LAN에서 전송매체를 공유하고 있는 여러 단말들이 서로 경쟁하며 충돌(Collision)이 나타나면서, 이 충돌한 프레임이 전파되어 영향을 받게되는 영역
- 특징
    
    ⇒ 패킷의 목적지 주소로 지정된 디바이스로 이어지는 포트로만 패킷이 전달
    
    ⇒ 불필요한 트래픽을 방지하고 통신 효율을 향상
    
- 기능(MAC주소 학습의 5단계 프로세스)
    - Learning
        - source(패킷을 보내는 쪽) MAC address를 기반으로 그 테이블을 만드는 기능
        - 패킷이 갔다가 돌아오는 것이 중요함
    - Flooding
        - 프레임의 목적지 주소가 그 테이블에 없는 경우, 들어온 포트를 제외하고 다른 모든 포트로 전송하는 기능
    - Forwarding
        - 이미 만들어진 MAC 테이블을 기반으로 해서 도착지 주소의 정보가 있다면 그 포트로 프레임을 전송하는 기능(유니캐스트일 경우 포워딩 진행)
        - 포워딩은 유니캐스트일 때만 진행 됨(주소를 알아야하기 때문)
    - Filtering(포워딩과 동시에 진행)
        - 포워딩 하는 도중에 다른 포트로 데이터가 전송되지 않도록 하는 기능
        - 필터링 기능으로 인해서 콜리전 도메인이 나누어지는 것이 가능해짐
    - Aging(MAC 테이블에서 MAC주소 삭제 )
        - 일정 시간이 지나면 MAC주소 삭제(default : 300s)
        - 300초가 지나면 MAC주소를 삭제
    - 참고 :
    [시스코 스위치Switch 기능 5가지](https://hihighlinux.tistory.com/95)
    

### 스위치의 프레임 처리방식

- 스토어-앤-포워드(store-and-forward)
    - 일단 들어오는 프레임을 전부 다 받아들이고 처리를 시작
    - 스위치가 유입된 모든 프레임에 대해서 CRC값을 체크하여 에러여부를 확인하는 방식
    - 프레임이 다 들어왔나 체크//에러 있나 체크//출발지와 목적지 주소 체크
    - 현대 네트워크에서는 데이터의 양이 너무 많아서 일일이 스토어-앤-포워드 방식으로 에러를 체크하기에는 무리
- 프래그먼트 프리(Fragment Free)
    
    : 처음 들어오는 512(=64바이트/1바이트=8비트)비트 정보만을 확인하여 콜리젼 발생 여부만을 확인하는 방식
    
- 3-4-5 Rule (정식명칭 5-4-3규칙)
    - 리피터를 설치함에 있어서 4개까지의 설치만 권장됨을 표현하는 초기의 네트워크 디자인 규칙
    - 3개의 중계구간 4개의 리피터 5개의 구간을 의미
        - Max 3 populated segments (Nodes) : 순수하게 데이터를 전송하기 위한 세그먼트
        - Max 4 repeaters : 최대 4개까지
        - Max 5 segments
        - 여기서 segment는 네트워크 구간을 물리적으로 제한하여 구분하는 단위
        - subnet은 네트워크를 논리적으로 구분하는 단위
        
- 컷 스루(Cut Through)
    - 처음 들어오는 48비트（６바이트） 정보(=dest mac)만을 체크
    - frame이 다 들어오기를 기다리지 않고 앞에 들어오는 목적지 MAC 어드레스만을 본 후 바로 전송을 시작
    - 처리 속도가 빠르다는 장점
    - 에러복구 능력은 떨어진다는 단점
    - 맥 어드레스 테이블을 만들 수 없다는 단점(이유 : src mac이 dest mac보다 뒤에 위치하기 때문에)
    - 오늘날 대부분의 switching 방식으로 destination MAC address만 확인하여 전송